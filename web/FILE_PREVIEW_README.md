# 文件预览功能说明

## 功能概述

知识库页面现在支持对以下类型的文件进行预览：
- **PDF 文件** - 使用 react-pdf 组件进行预览
- **Excel 文件** - 以表格形式展示文件内容
- **Word 文档** - 以 HTML 格式展示文档内容
- **文本文件** - 纯文本内容预览

## 使用方法

1. **点击卡片**：直接点击知识库中的任意文件卡片即可打开预览
2. **支持的文件类型**：
   - PDF
   - EXCEL
   - WORD
   - TXT
   - 笔记（作为文本处理）

## 技术实现

### 依赖包
- `react-pdf`: PDF 文件预览
- `pdfjs-dist`: PDF.js 核心库
- `xlsx`: Excel 文件解析
- `mammoth`: Word 文档解析

### 组件结构
- `FilePreviewModal`: 文件预览模态框组件
- 支持不同文件类型的条件渲染
- 响应式设计，支持大屏幕显示

### 交互逻辑
- 鼠标悬停卡片时显示勾选框
- 选中项目后所有卡片显示勾选框
- 点击卡片直接打开文件预览
- 支持批量选择和批量提问功能

## 注意事项

1. 当前实现使用模拟数据，实际项目中需要：
   - 实现真实的文件URL获取逻辑
   - 添加文件上传和存储功能
   - 处理文件加载错误情况

2. 文件预览功能与批量选择功能并存，用户可以同时使用两个功能。

## 后续优化

- 添加文件下载功能
- 支持更多文件格式
- 添加文件搜索功能
- 实现文件版本控制
